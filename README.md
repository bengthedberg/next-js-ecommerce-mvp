#  E-Commerce Store

Uses Next.js v14 with Prisma using SqlLite database, [chadcn](https://ui.shadcn.com/) for tailered components and Tailwind for styling, zod for validation. It also implements payments with Stripe.

## Project was created as follows

1. Create a new Next,js project :   
   `npx create-next-app@latest`
2. Add Prisma :
   `npm i --save-dev ts-node `
   `npm install prisma --save-dev`
3. Setup Prisma using SqlLite :
   `npx prisma init --datasource-provider sqlite`
4. Add a schema by modifying the [`schema.prisma`](./prisma/schema.prisma) file. 
5. Create a Prisma migration :
   `npx prisma migrate dev --name init` 
6. Add ShadCN to the project :
  `npx shadcn-ui@latest init`
    ```
    Which style would you like to use? › Default
    Which color would you like to use as base color? › Slate
    Do you want to use CSS variables for colors? › yes
    ```
7.  Update the [root layout](./src/app/layout.tsx) as follows :
      ```js
      import type { Metadata } from "next";
      import { Inter } from "next/font/google"
      import "./globals.css";

      import { cn } from "@/lib/utils"

      const inter = Inter({
         subsets: ["latin"],
         variable: "--font-sans",
      })

      export const metadata: Metadata = {
         title: "Create Next App",
         description: "Generated by create next app",
      };

      export default function RootLayout({ children }: 
         Readonly<{children: React.ReactNode;}>) {

         return (
            <html lang="en" suppressHydrationWarning>
               <head />
               <body className={cn(
                  "min-h-screen bg-background font-sans antialiased",
                  inter.variable)
               }>
                  {children}
               </body>
            </html>
         );
      }
      ```
8. Update the Tailwind theme to use chadcn font-sans:
   ```json
   import { fontFamily } from "tailwindcss/defaultTheme"
   ...
      fontFamily: {
         sans: ["var(--font-sans)", ...fontFamily.sans],
      },
   ```

  
## Clone existing repository

If you clone the repository the you need top create the following files:

1. A `.env` file in the root directory with the following content :
      ```
      DATABASE_URL="file:./dev.db"
      ADMIN_USERNAME=admin
      HASHED_ADMIN_PASSWORD=FmJ37pOVayNUV54asF4zd2O6DmSureEVY2TmhN5CfXIqAEToimcGcJ+lKmmbc5V3zxpYTr4zUJizYhkKNSj85g==
      ```
 

## Stripe local testing 

1. Install Stripe CLI
2. Login to Stripe `stripe login`
3. Redirect the webhooks to local `stripe listen --forward-to localhost:3000/webhooks/stripe`

Replace chadcn table with data-table